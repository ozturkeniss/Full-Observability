// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package payment

import (
	"github.com/google/wire"
	"github.com/tair/full-observability/internal/payment/client"
	"github.com/tair/full-observability/internal/payment/domain"
	"github.com/tair/full-observability/internal/payment/handler"
	"github.com/tair/full-observability/internal/payment/repository"
	"github.com/tair/full-observability/internal/payment/usecase/command"
	"github.com/tair/full-observability/internal/payment/usecase/query"
	"gorm.io/gorm"
)

// Injectors from wire.go:

// InitializeHandler initializes payment handler with all dependencies
func InitializeHandler(db *gorm.DB, addrs ServiceAddrs) (*handler.PaymentHandler, error) {
	paymentRepository := ProvidePaymentRepository(db)
	createPaymentHandler := ProvideCreatePaymentHandler(paymentRepository)
	updateStatusHandler := ProvideUpdateStatusHandler(paymentRepository)
	getPaymentHandler := ProvideGetPaymentHandler(paymentRepository)
	listPaymentsHandler := ProvideListPaymentsHandler(paymentRepository)
	getMyPaymentsHandler := ProvideGetMyPaymentsHandler(paymentRepository)
	userServiceClient, err := ProvideUserServiceClient(addrs)
	if err != nil {
		return nil, err
	}
	productServiceClient, err := ProvideProductServiceClient(addrs)
	if err != nil {
		return nil, err
	}
	paymentHandler := handler.NewPaymentHandlerWithDI(createPaymentHandler, updateStatusHandler, getPaymentHandler, listPaymentsHandler, getMyPaymentsHandler, paymentRepository, userServiceClient, productServiceClient)
	return paymentHandler, nil
}

// wire.go:

// ServiceAddrs holds service addresses for dependency injection
type ServiceAddrs struct {
	UserServiceAddr    string
	ProductServiceAddr string
}

// ProvidePaymentRepository provides the payment repository
func ProvidePaymentRepository(db *gorm.DB) domain.PaymentRepository {
	return repository.NewGormPaymentRepository(db)
}

// Command Handlers Providers
func ProvideCreatePaymentHandler(repo domain.PaymentRepository) *command.CreatePaymentHandler {
	return command.NewCreatePaymentHandler(repo)
}

func ProvideUpdateStatusHandler(repo domain.PaymentRepository) *command.UpdateStatusHandler {
	return command.NewUpdateStatusHandler(repo)
}

// Query Handlers Providers
func ProvideGetPaymentHandler(repo domain.PaymentRepository) *query.GetPaymentHandler {
	return query.NewGetPaymentHandler(repo)
}

func ProvideListPaymentsHandler(repo domain.PaymentRepository) *query.ListPaymentsHandler {
	return query.NewListPaymentsHandler(repo)
}

func ProvideGetMyPaymentsHandler(repo domain.PaymentRepository) *query.GetMyPaymentsHandler {
	return query.NewGetMyPaymentsHandler(repo)
}

// ProvideUserServiceClient provides the user service gRPC client
func ProvideUserServiceClient(addrs ServiceAddrs) (*client.UserServiceClient, error) {
	return client.NewUserServiceClient(addrs.UserServiceAddr)
}

// ProvideProductServiceClient provides the product service gRPC client
func ProvideProductServiceClient(addrs ServiceAddrs) (*client.ProductServiceClient, error) {
	return client.NewProductServiceClient(addrs.ProductServiceAddr)
}

// Wire sets
var RepositorySet = wire.NewSet(
	ProvidePaymentRepository,
)

var CommandHandlerSet = wire.NewSet(
	ProvideCreatePaymentHandler,
	ProvideUpdateStatusHandler,
)

var QueryHandlerSet = wire.NewSet(
	ProvideGetPaymentHandler,
	ProvideListPaymentsHandler,
	ProvideGetMyPaymentsHandler,
)

var AllHandlersSet = wire.NewSet(
	RepositorySet,
	CommandHandlerSet,
	QueryHandlerSet,
)
